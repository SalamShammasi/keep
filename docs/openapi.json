{"openapi":"3.0.2","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/providers":{"get":{"tags":["providers"],"summary":"Get Providers","operationId":"get_providers_providers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/{provider_type}/{provider_id}/configured-alerts":{"get":{"tags":["providers"],"summary":"Get Alerts Configuration","description":"Get alerts configuration from a provider","operationId":"get_alerts_configuration_providers__provider_type___provider_id__configured_alerts_get","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"},{"required":true,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Alerts Configuration Providers  Provider Type   Provider Id  Configured Alerts Get","type":"array","items":{}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"API Key":[]},{"HTTPBasic":[]}]}},"/providers/{provider_type}/{provider_id}/logs":{"get":{"tags":["providers"],"summary":"Get Logs","description":"Get logs from a provider","operationId":"get_logs_providers__provider_type___provider_id__logs_get","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"},{"required":true,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"path"},{"required":false,"schema":{"title":"Limit","type":"integer","default":5},"name":"limit","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Logs Providers  Provider Type   Provider Id  Logs Get","type":"array","items":{}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"API Key":[]},{"HTTPBasic":[]}]}},"/providers/{provider_type}/schema":{"get":{"tags":["providers"],"summary":"Get Alerts Schema","description":"Get the provider's API schema used to push alerts configuration","operationId":"get_alerts_schema_providers__provider_type__schema_get","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Alerts Schema Providers  Provider Type  Schema Get","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/providers/{provider_type}/{provider_id}/alerts":{"post":{"tags":["providers"],"summary":"Add Alert","description":"Push new alerts to the provider","operationId":"add_alert_providers__provider_type___provider_id__alerts_post","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"},{"required":true,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"path"},{"required":false,"schema":{"title":"Alert Id","type":"string"},"name":"alert_id","in":"query"}],"requestBody":{"content":{"application/json":{"schema":{"title":"Alert","type":"object"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"API Key":[]},{"HTTPBasic":[]}]}},"/providers/test":{"post":{"tags":["providers"],"summary":"Test Provider","description":"Test a provider's alert retrieval","operationId":"test_provider_providers_test_post","requestBody":{"content":{"application/json":{"schema":{"title":"Provider Info","type":"object"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/{provider_type}/{provider_id}":{"delete":{"tags":["providers"],"summary":"Delete Provider","operationId":"delete_provider_providers__provider_type___provider_id__delete","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"},{"required":true,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/install":{"post":{"tags":["providers"],"summary":"Install Provider","operationId":"install_provider_providers_install_post","requestBody":{"content":{"application/json":{"schema":{"title":"Provider Info","type":"object"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/install/webhook/{provider_type}/{provider_id}":{"post":{"tags":["providers"],"summary":"Install Provider Webhook","operationId":"install_provider_webhook_providers_install_webhook__provider_type___provider_id__post","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"},{"required":true,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/providers/{provider_type}/webhook":{"get":{"tags":["providers"],"summary":"Get Webhook Settings","operationId":"get_webhook_settings_providers__provider_type__webhook_get","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ProviderWebhookSettings"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/healthcheck":{"get":{"tags":["healthcheck"],"summary":"Healthcheck","description":"simple healthcheck endpoint","operationId":"healthcheck_healthcheck_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Healthcheck Healthcheck Get","type":"object"}}}}}}},"/tenant/onboarded":{"get":{"tags":["tenant"],"summary":"Is Onboarded","description":"Check if a tenant is onboarded (meaning - installed github bot)","operationId":"is_onboarded_tenant_onboarded_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/tenant/github":{"post":{"tags":["tenant"],"summary":"Save Github Installation Id","operationId":"save_github_installation_id_tenant_github_post","responses":{"204":{"description":"Successful Response"}},"security":[{"OAuth2PasswordBearer":[]}]}},"/ai/create-alert":{"post":{"tags":["ai"],"summary":"Create Alert","operationId":"create_alert_ai_create_alert_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateAlert"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Create Alert Ai Create Alert Post","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"API Key":[]},{"HTTPBasic":[]}]}},"/ai/repair-alert":{"post":{"tags":["ai"],"summary":"Repair Alert","operationId":"repair_alert_ai_repair_alert_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RepairAlert"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Repair Alert Ai Repair Alert Post","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"API Key":[]},{"HTTPBasic":[]}]}},"/alerts":{"get":{"tags":["alerts"],"summary":"Get Alerts","description":"Get alerts","operationId":"get_alerts_alerts_get","parameters":[{"required":false,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"query"},{"required":false,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Alerts Alerts Get","type":"array","items":{"$ref":"#/components/schemas/AlertDto"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/alerts/event/{provider_type}":{"post":{"tags":["alerts"],"summary":"Receive Event","description":"Receive an alert event from a provider","operationId":"receive_event_alerts_event__provider_type__post","parameters":[{"required":true,"schema":{"title":"Provider Type","type":"string"},"name":"provider_type","in":"path"},{"required":false,"schema":{"title":"Provider Id","type":"string"},"name":"provider_id","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Receive Event Alerts Event  Provider Type  Post","type":"object","additionalProperties":{"type":"string"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"API Key":[]},{"HTTPBasic":[]}]}},"/settings/webhook":{"get":{"tags":["settings"],"summary":"Webhook Settings","description":"Get details about the webhook endpoint (e.g. the API url and an API key)","operationId":"webhook_settings_settings_webhook_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookSettings"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/workflows":{"get":{"tags":["workflows","alerts"],"summary":"Get Workflows","description":"Get workflows","operationId":"get_workflows_workflows_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Workflows Workflows Get","type":"array","items":{"$ref":"#/components/schemas/WorkflowDTO"}}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"post":{"tags":["workflows","alerts"],"summary":"Create Workflow","description":"Create a workflow","operationId":"create_workflow_workflows_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_workflow_workflows_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Create Workflow Workflows Post","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/workflows/{workflow_id}/run":{"post":{"tags":["workflows","alerts"],"summary":"Run Workflow","description":"Run a workflow","operationId":"run_workflow_workflows__workflow_id__run_post","parameters":[{"required":true,"schema":{"title":"Workflow Id","type":"string"},"name":"workflow_id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"title":"Body","type":"object"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Run Workflow Workflows  Workflow Id  Run Post","type":"object"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/workflows/{workflow_id}":{"get":{"tags":["workflows","alerts"],"summary":"Get Workflow By Id","description":"Get workflow executions by ID","operationId":"get_workflow_by_id_workflows__workflow_id__get","parameters":[{"required":true,"schema":{"title":"Workflow Id","type":"string"},"name":"workflow_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Workflow By Id Workflows  Workflow Id  Get","type":"array","items":{"$ref":"#/components/schemas/WorkflowExecutionDTO"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]},"delete":{"tags":["workflows","alerts"],"summary":"Delete Workflow By Id","description":"Delete workflow","operationId":"delete_workflow_by_id_workflows__workflow_id__delete","parameters":[{"required":true,"schema":{"title":"Workflow Id","type":"string"},"name":"workflow_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/workflows/{workflow_id}/runs/{workflow_execution_id}":{"get":{"tags":["workflows","alerts"],"summary":"Get Workflow Execution Status","description":"Get a workflow execution status","operationId":"get_workflow_execution_status_workflows__workflow_id__runs__workflow_execution_id__get","parameters":[{"required":true,"schema":{"title":"Workflow Id","type":"string"},"name":"workflow_id","in":"path"},{"required":true,"schema":{"title":"Workflow Execution Id","type":"string"},"name":"workflow_execution_id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/WorkflowExecutionDTO"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}}},"components":{"schemas":{"AlertDto":{"title":"AlertDto","required":["id","name","status","lastReceived"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"name":{"title":"Name","type":"string"},"status":{"title":"Status","type":"string"},"lastReceived":{"title":"Lastreceived","type":"string"},"environment":{"title":"Environment","type":"string","default":"undefined"},"isDuplicate":{"title":"Isduplicate","type":"boolean"},"duplicateReason":{"title":"Duplicatereason","type":"string"},"service":{"title":"Service","type":"string"},"source":{"title":"Source","type":"array","items":{"type":"string"},"default":[]},"message":{"title":"Message","type":"string"},"description":{"title":"Description","type":"string"},"severity":{"title":"Severity","type":"string"},"fatigueMeter":{"title":"Fatiguemeter","type":"integer"},"pushed":{"title":"Pushed","type":"boolean","default":false},"event_id":{"title":"Event Id","type":"string"}}},"Body_create_workflow_workflows_post":{"title":"Body_create_workflow_workflows_post","required":["file"],"type":"object","properties":{"file":{"title":"File","type":"string","format":"binary"}}},"CreateAlert":{"title":"CreateAlert","required":["alert","provider_type"],"type":"object","properties":{"alert":{"title":"Alert","type":"string"},"provider_type":{"title":"Provider Type","type":"string"},"provider_id":{"title":"Provider Id","type":"string"},"repository_context":{"title":"Repository Context","type":"object","default":{}}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"ProviderDTO":{"title":"ProviderDTO","required":["type","name","installed"],"type":"object","properties":{"type":{"title":"Type","type":"string"},"id":{"title":"Id","type":"string"},"name":{"title":"Name","type":"string"},"installed":{"title":"Installed","type":"boolean"}}},"ProviderWebhookSettings":{"title":"ProviderWebhookSettings","required":["webhookTemplate"],"type":"object","properties":{"webhookDescription":{"title":"Webhookdescription","type":"string"},"webhookTemplate":{"title":"Webhooktemplate","type":"string"}}},"RepairAlert":{"title":"RepairAlert","required":["bad_alert","error","provider_type"],"type":"object","properties":{"bad_alert":{"title":"Bad Alert","type":"object"},"error":{"title":"Error","type":"string"},"provider_type":{"title":"Provider Type","type":"string"}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"WebhookSettings":{"title":"WebhookSettings","required":["webhookApi","apiKey"],"type":"object","properties":{"webhookApi":{"title":"Webhookapi","type":"string"},"apiKey":{"title":"Apikey","type":"string"}}},"WorkflowDTO":{"title":"WorkflowDTO","required":["id","created_by","creation_time","interval","providers"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"description":{"title":"Description","type":"string","default":"Workflow file doesn't contain description"},"created_by":{"title":"Created By","type":"string"},"creation_time":{"title":"Creation Time","type":"string","format":"date-time"},"triggers":{"title":"Triggers","type":"array","items":{"type":"object"}},"interval":{"title":"Interval","type":"integer"},"last_execution_time":{"title":"Last Execution Time","type":"string","format":"date-time"},"last_execution_status":{"title":"Last Execution Status","type":"string"},"providers":{"title":"Providers","type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}}}},"WorkflowExecutionDTO":{"title":"WorkflowExecutionDTO","required":["id","workflow_id","started","triggered_by","status"],"type":"object","properties":{"id":{"title":"Id","type":"string"},"workflow_id":{"title":"Workflow Id","type":"string"},"started":{"title":"Started","type":"string","format":"date-time"},"triggered_by":{"title":"Triggered By","type":"string"},"status":{"title":"Status","type":"string"},"logs":{"title":"Logs","type":"array","items":{"$ref":"#/components/schemas/WorkflowExecutionLogsDTO"}},"error":{"title":"Error","type":"string"},"execution_time":{"title":"Execution Time","type":"integer"}}},"WorkflowExecutionLogsDTO":{"title":"WorkflowExecutionLogsDTO","required":["id","timestamp","message"],"type":"object","properties":{"id":{"title":"Id","type":"integer"},"timestamp":{"title":"Timestamp","type":"string","format":"date-time"},"message":{"title":"Message","type":"string"}}}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"token"}}},"API Key":{"type":"apiKey","in":"header","name":"X-API-KEY"},"HTTPBasic":{"type":"http","scheme":"basic"}}}}
